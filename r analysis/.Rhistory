lines(data$count, type="o")
}
}
for (i in 1:nrow(top15)) {
annotation = toString(top15[i,]$annotation)
print(annotation)
data = fn$sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = '$annotation'")
if (i == 1) {
annotation_plot = plot(data$count, type="o", ylim=c(0, max(top15$count)))
} else {
lines(data$count, type="o")
}
}
max(top15$count)
for (i in 1:nrow(top15)) {
annotation = toString(top15[i,]$annotation)
print(annotation)
data = fn$sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = '$annotation'")
if (i == 1) {
annotation_plot = ggplot(data=data, aes(x=data$year, y=data$count, group=1)) + geom_line()
}
}
for (i in 1:nrow(top15)) {
annotation = toString(top15[i,]$annotation)
print(annotation)
data = fn$sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = '$annotation'")
if (i == 1) {
annotation_plot = ggplot(data=data, aes(x=data$year, y=data$count, group=1)) + geom_line()
plot(annotation_plot)
}
}
for (i in 1:nrow(top15)) {
annotation = toString(top15[i,]$annotation)
print(annotation)
data = fn$sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = '$annotation'")
if (i == 1) {
annotation_plot = ggplot(data=data, aes(x=paste(data$year, data$quarter, sep="/"), y=data$count, group=1)) + geom_line()
plot(annotation_plot)
}
}
for (i in 1:nrow(top15)) {
annotation = toString(top15[i,]$annotation)
print(annotation)
data = fn$sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = '$annotation'")
if (i == 1) {
annotation_plot = ggplot(data=data, aes(x=paste(data$year, data$quarter, sep="/"), y=data$count, group=1)) + geom_line() + geom_point()
plot(annotation_plot)
}
}
for (i in 1:nrow(top15)) {
annotation = toString(top15[i,]$annotation)
print(annotation)
data = fn$sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = '$annotation'")
if (i == 1) {
annotation_plot = ggplot(data=data, aes(x=paste(data$year, data$quarter, sep="/"), y=data$count, group=1)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("# Annotation")
plot(annotation_plot)
}
}
for (i in 1:nrow(top15)) {
annotation = toString(top15[i,]$annotation)
print(annotation)
data = fn$sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = '$annotation'")
if (i == 1) {
annotation_plot = ggplot(data=data, aes(x=paste(substr(data$year, 3,4), data$quarter, sep="/"), y=data$count, group=1)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("# Annotation")
plot(annotation_plot)
}
}
for (i in 1:nrow(top15)) {
annotation = toString(top15[i,]$annotation)
print(annotation)
data = fn$sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = '$annotation'")
if (i == 1) {
annotation_plot = ggplot(data=data, aes(x=paste(substr(data$year, 3,4), data$quarter, sep="/"), y=data$count, group=1)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotation over time")
plot(annotation_plot)
}
}
for (i in 1:nrow(top15)) {
annotation = toString(top15[i,]$annotation)
print(annotation)
data = fn$sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = '$annotation'")
if (i == 1) {
annotation_plot = ggplot() + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time")
}
annotation_plot = annotation_plot + geom_line(data=data, aes(x=paste(substr(data$year, 3,4), data$quarter, sep="/"), y=data$count, group=1), color="red")
}
plot(annotation_plot)
for (i in 1:nrow(top15)) {
annotation = toString(top15[i,]$annotation)
data = fn$sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = '$annotation'")
if (i == 1) {
annotation_plot = ggplot(data=data) + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time")
}
annotation_plot = annotation_plot + geom_line(data=data, aes(x=paste(substr(data$year, 3,4), data$quarter, sep="/"), y=data$count, group=1))
}
plot(annotation_plot)
for (i in 1:nrow(top15)) {
annotation = toString(top15[i,]$annotation)
data = fn$sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = '$annotation'")
if (i == 1) {
annotation_plot = ggplot(data, aes(x=paste(substr(data$year, 3,4), data$quarter, sep="/"))) + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time")
}
annotation_plot = annotation_plot + geom_line(data=data, aes(x=paste(substr(data$year, 3,4), data$quarter, sep="/"), y=data$count, group=1))
}
plot(annotation_plot)
for (i in 1:nrow(top15)) {
annotation = toString(top15[i,]$annotation)
data = fn$sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = '$annotation'")
if (i == 1) {
annotation_plot = ggplot(data, aes(x=paste(substr(data$year, 3,4), data$quarter, sep="/"))) + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time") + geom_line(data=data, aes(x=paste(substr(data$year, 3,4), data$quarter, sep="/"), y=data$count, group=1))
}
# annotation_plot = annotation_plot
}
plot(annotation_plot)
for (i in 1:nrow(top15)) {
annotation = toString(top15[i,]$annotation)
data = fn$sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = '$annotation'")
if (i == 1) {
annotation_plot = ggplot(data=data, aes(x=paste(substr(data$year, 3,4), data$quarter, sep="/"))) + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time") + geom_line(data=data, aes(x=paste(substr(data$year, 3,4), data$quarter, sep="/"), y=data$count, group=1))
}
# annotation_plot = annotation_plot
}
plot(annotation_plot)
for (i in 1:nrow(top15)) {
annotation = toString(top15[i,]$annotation)
data = fn$sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = '$annotation'")
if (i == 1) {
annotation_plot = ggplot() + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time")
}
#annotation_plot = annotation_plot + geom_line(data=data, aes(x=paste(substr(data$year, 3,4), data$quarter, sep="/"), y=data$count, group=1))
}
plot(annotation_plot)
annotation_plot = ggplot() + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time")
if (i == 1) {
annotation_plot = ggplot() + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time")
}
annotation_plot = annotation_plot + geom_line(data=data, aes(x=paste(substr(data$year, 3,4), data$quarter, sep="/"), y=data$count))
for (i in 1:nrow(top15)) {
annotation = toString(top15[i,]$annotation)
data = fn$sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = '$annotation'")
if (i == 1) {
annotation_plot = ggplot() + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time")
}
annotation_plot = annotation_plot + geom_line(data=data, aes(x=paste(substr(data$year, 3,4), data$quarter, sep="/"), y=data$count))
}
plot(annotation_plot)
for (i in 1:nrow(top15)) {
annotation = toString(top15[i,]$annotation)
data = fn$sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = '$annotation'")
if (i == 1) {
annotation_plot = ggplot(data=data, aes(x=paste(substr(data$year, 3,4), data$quarter, sep="/"), y=data$count)) + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time")
}
annotation_plot = annotation_plot + geom_line(data=data, aes(y=data$count))
}
plot(annotation_plot)
for (i in 1:nrow(top15)) {
annotation = toString(top15[i,]$annotation)
data = fn$sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = '$annotation'")
if (i == 1) {
annotation_plot = ggplot(data=data, aes(x=paste(substr(data$year, 3,4), data$quarter, sep="/"), y=data$count)) + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time")
}
annotation_plot = ggplot() + geom_line(data=data, aes(y=data$count))
}
plot(annotation_plot)
install.packages("reshape2")
library(reshape2)
annotation_plot = ggplot(data=filtered_annotations, aes(x=paste(substr(filtered_annotations$year, 3,4), filtered_annotations$quarter, sep="/"), y=filtered_annotations$count, group=filtered_annotations$annotation)) + geom_line() + geom_point()
#+ xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time")
plot(annotation_plot)
annotation_plot = ggplot(top15_annotations_time, aes(x=paste(substr(year, 3,4), filtered_annotations$quarter, sep="/"), y=filtered_annotations$count, group=filtered_annotations$annotation)) + geom_line() + geom_point()
# Look at Top 15 annotations in context of time
top15_annotations_time = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a INNER JOIN top15 as t ON a.annotation = t.annotation")
annotation_plot = ggplot(top15_annotations_time, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation)) + geom_line() + geom_point()
#+ xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time")
plot(annotation_plot)
source('~/Desktop/fst-abschlussprojekt/r analysis/analyse.R')
# Look at Top 15 annotations in context of time
top15_annotations_time = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a INNER JOIN top15 as t ON a.annotation = t.annotation")
annotation_plot = ggplot(top15_annotations_time, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation, color=rainbow())) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time")
plot(annotation_plot)
# Look at Top 15 annotations in context of time
top15_annotations_time = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a INNER JOIN top15 as t ON a.annotation = t.annotation")
annotation_plot = ggplot(top15_annotations_time, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation, color=rainbow(15))) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time")
plot(annotation_plot)
# Look at Top 15 annotations in context of time
top15_annotations_time = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a INNER JOIN top15 as t ON a.annotation = t.annotation")
annotation_plot = ggplot(top15_annotations_time, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time")
plot(annotation_plot)
# Look at Top 15 annotations in context of time
top15_annotations_time = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a INNER JOIN top15 as t ON a.annotation = t.annotation")
annotation_plot = ggplot(top15_annotations_time, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time") + scale_fill_brewer()
plot(annotation_plot)
install.packages("RColorBrewer")
library(RColorBrewer)
# Look at Top 15 annotations in context of time
top15_annotations_time = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a INNER JOIN top15 as t ON a.annotation = t.annotation")
annotation_plot = ggplot(top15_annotations_time, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time") + scale_fill_brewer()
plot(annotation_plot)
# Look at Top 15 annotations in context of time
top15_annotations_time = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a INNER JOIN top15 as t ON a.annotation = t.annotation")
annotation_plot = ggplot(top15_annotations_time, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time") + scale_fill_brewer()
plot(annotation_plot)
# Look at Top 15 annotations in context of time
top15_annotations_time = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a INNER JOIN top15 as t ON a.annotation = t.annotation")
annotation_plot = ggplot(top15_annotations_time, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time")
plot(annotation_plot)
# Look at Top 15 annotations in context of time
top15_annotations_time = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a INNER JOIN top15 as t ON a.annotation = t.annotation")
annotation_plot = ggplot(top15_annotations_time, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 15 annotations over time") + labs(color="Annotation")
plot(annotation_plot)
# Look at Top 15 annotations in context of time
top15_annotations_time = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a INNER JOIN top15 as t ON a.annotation = t.annotation")
annotation_plot = ggplot(top15_annotations_time, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 15 annotations over time") + labs(color="Annotation")
plot(annotation_plot)
View(annotation_plot)
# Look at Top 15 annotations in context of time
top15_annotations_time = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a INNER JOIN top15 as t ON a.annotation = t.annotation")
annotation_plot = ggplot(top15_annotations_time, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation, colour=annotation))
+ geom_line()
View(top15_annotations_time)
View(revisions)
test = merge(top15_annotations_time, revisions, by=c("year","quarter"))
View(test)
top15_merged_with_revisions = merge(top15_annotations_time, revisions, by=c("year","quarter"), suffixes=c("annotations", "revisions"))
View(top15_merged_with_revisions)
top15_merged_with_revisions = merge(top15_annotations_time, revisions, by=c("year","quarter"), suffixes=c("Annotations", "Revisions"))
View(top15_merged_with_revisions)
top15_merged_with_revisions = merge(top15_annotations_time, revisions, by=c("year","quarter"), suffixes=c("Annotations", "Revisions"))
top15_merged_with_revisions$relativeAnnotations = with(top15_merged_with_revisions, countAnnotations / countRevisions * 100)
top15_merged_with_revisions = merge(top15_annotations_time, revisions, by=c("year","quarter"), suffixes=c("Annotations", "Revisions"))
top15_merged_with_revisions$relativeAnnotations = with(top15_merged_with_revisions, countAnnotations / countRevisions * 100)
annotation_plot = ggplot(top15_merged_with_revisions, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=relativeAnnotations, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 15 annotations over time") + labs(color="Annotation")
plot(annotation_plot)
View(top15_annotations_time)
View(annotation_use)
top15_merged_with_annotation_use = merge(top15_annotations_time, annotation_use, by=c("annotation"))
View(top15_merged_with_annotation_use)
top15_merged_with_annotation_use = merge(top15_annotations_time, annotation_use, by=c("annotation"), suffixes=c("Annotations", "Use"))
View(top15_merged_with_revisions)
top15_merged_with_annotation_use$relativeUse = with(top15_merged_with_annotation_use, countAnnotations / countUse * 100)
View(top15_merged_with_annotation_use)
source('~/Desktop/fst-abschlussprojekt/r analysis/analyse.R')
View(top15_annotations_time)
aggregate(top15_annotations_time$count, by=list(top15_annotations_time$annotation), max)
max_values = aggregate(top15_annotations_time$count, by=list(top15_annotations_time$annotation), max)
View(max_values)
max_values = aggregate(list(annotation=top15_annotations_time$count), by=list(top15_annotations_time$annotation), max)
View(max_values)
max_values = aggregate(list(max_count=top15_annotations_time$count), by=list(annotation=top15_annotations_time$annotation), max)
View(annotation_use)
top15_merged = merge(top15_annotations_time, max_values, by=c("annotation"))
View(top15_merged)
top15_merged$relativeUse = with(top15_merged, count / maxCount * 100)
top15_merged$relativeUse = with(top15_merged, count / max_count * 100)
top15_merged = merge(top15_annotations_time, max_values, by=c("annotation"))
top15_merged$relativeUse = with(top15_merged, count / max_count * 100)
annotation_plot = ggplot(top15_merged, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=relativeUse, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 15 annotations over time") + labs(color="Annotation")
plot(annotation_plot)
top15_annotations_time = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a INNER JOIN top15 as t ON a.annotation = t.annotation")
top15_merged_with_annotation_use = merge(top15_annotations_time, annotation_use, by=c("annotation"), suffixes=c("Annotations", "Use"))
top15_merged_with_annotation_use$relativeUse = with(top15_merged_with_annotation_use, countAnnotations / countUse * 100)
annotation_plot = ggplot(top15_merged_with_revisions, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=relativeAnnotations, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 15 annotations over time") + labs(color="Annotation")
plot(annotation_plot)
top15_annotations_time = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a INNER JOIN top15 as t ON a.annotation = t.annotation")
top15_merged_with_annotation_use = merge(top15_annotations_time, annotation_use, by=c("annotation"), suffixes=c("Annotations", "Use"))
top15_merged_with_annotation_use$relativeUse = with(top15_merged_with_annotation_use, countAnnotations / countUse * 100)
annotation_plot = ggplot(top15_merged_with_revisions, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=relativeAnnotations, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 15 annotations over time") + labs(color="Annotation")
plot(annotation_plot)
annotation_plot = ggplot(top15_annotations_time, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 15 annotations over time") + labs(color="Annotation")
plot(annotation_plot)
# Load the packages
library(sqldf)
library(ggplot2)
# This function sets the annotation count in relation to the revision count at the specific quarter
set_relative_count <- function(annotation) {
#
}
annotations = read.csv("result-github-september-2015.csv")                      # read annotation file
annotation_use = read.csv("annotations_in_repos-github-september-2015.csv")     # read how many repositories contain a specific annotation
revisions = read.csv("revisions-github-september-2015.csv")                     # read revisions file
repository_creation = read.csv("repository-created-github-september-2015.csv")  # read repository creation dates
# Searching for a reason, why the amount of revisions is going down after 2013
barplot(repository_creation$count, main = "Repository creation date",
xlab = "Year/Quarter", ylab = "Amount of repositories created", names.arg = paste(substr(repository_creation$year, 3, 4), repository_creation$quarter, sep="/"))
# My suggested timeframe is 2005/1?
# Also remove all data where annotation count is smaller than 500 ???
filtered_annotations = subset(annotations, year > 2005 & count > 499)
# Remove all annotations which are used in less than ? repositories
annotation_use = subset(annotation_use, count > 3)
# Get Top 15 annotations
top15 = tail(annotation_use[order(annotation_use$count),], 15)
sum_annotation_use = sum(annotation_use$count)
par(mai=c(1,2,1,1))
bp = barplot(top15$count / sum_annotation_use * 100, main="Top 15 most used annotations", horiz=TRUE, names.arg=top15$annotation, las=1, xlim=c(0,20))
text((top15$count / sum_annotation_use * 100), bp, paste(round((top15$count / sum_annotation_use * 100), 2), "%"), pos=4, cex=0.8)
# Look at Top 15 annotations in context of time
top15_annotations_time = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a INNER JOIN top15 as t ON a.annotation = t.annotation")
annotation_plot = ggplot(top15_annotations_time, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 15 annotations over time") + labs(color="Annotation")
plot(annotation_plot)
top15_merged_with_annotation_use = merge(top15_annotations_time, annotation_use, by=c("annotation"), suffixes=c("Annotations", "Use"))
top15_merged_with_annotation_use$relativeUse = with(top15_merged_with_annotation_use, countAnnotations / countUse * 100)
annotation_plot2 = ggplot(top15_annotations_time, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=relativeUse, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 15 annotations over time") + labs(color="Annotation")
plot(annotation_plo2)
plot(annotation_plot2)
View(top15_merged_with_annotation_use)
annotation_plot2 = ggplot(top15_merged_with_annotation_use, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=relativeUse, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 15 annotations over time") + labs(color="Annotation")
plot(annotation_plot2)
top15_merge_revisions = merge(top15_annotations_time, annotation_use, by=c("annotation"), suffixes=c("Annotations", "Revision"))
top15_merge_revisions$relativeUse = with(top15_merged_with_annotation_use, countAnnotations / countRevision * 100)
annotation_plot3 = ggplot(top15_merge_revisions, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=relativeUse, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 15 annotations over time") + labs(color="Annotation")
plot(annotation_plot3)
top15_merge_revisions$relativeUse = with(top15_merged_with_annotation_use, countAnnotations / countRevision * 100)
View(top15_merge_revisions)
top15_merge_revisions = merge(top15_annotations_time, annotation_use, by=c("annotation"), suffixes=c("Annotations", "Revision"))
top15_merge_revisions$relativeUse = with(top15_merge_revisions, countAnnotations / countRevision * 100)
annotation_plot3 = ggplot(top15_merge_revisions, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=relativeUse, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 15 annotations over time") + labs(color="Annotation")
plot(annotation_plot3)
max_values = aggregate(list(max_count=top15_annotations_time$count), by=list(annotation=top15_annotations_time$annotation), max)
top15_merged = merge(top15_annotations_time, max_values, by=c("annotation"))
top15_merged$relativeUse = with(top15_merged, count / max_count * 100)
annotation_plot4 = ggplot(top15_merged, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=relativeUse, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 15 annotations over time") + labs(color="Annotation")
plot(annotation_plot4)
# Get Top 15 annotations
top15 = tail(annotation_use[order(annotation_use$count),], 15)
sum_annotation_use = sum(annotation_use$count)
par(mai=c(1,2,1,1))
bp = barplot(top15$count / sum_annotation_use * 100, main="Top 15 most used annotations", horiz=TRUE, names.arg=top15$annotation, las=1, xlim=c(0,20))
text((top15$count / sum_annotation_use * 100), bp, paste(round((top15$count / sum_annotation_use * 100), 2), "%"), pos=4, cex=0.8)
# Look at Top 15 annotations in context of time
top15_annotations_time = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a INNER JOIN top15 as t ON a.annotation = t.annotation")
annotation_plot = ggplot(top15_annotations_time, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 15 annotations over time") + labs(color="Annotation")
plot(annotation_plot)
top15_merged_with_annotation_use = merge(top15_annotations_time, annotation_use, by=c("annotation"), suffixes=c("Annotations", "Use"))
top15_merged_with_annotation_use$relativeUse = with(top15_merged_with_annotation_use, countAnnotations / countUse * 100)
annotation_plot2 = ggplot(top15_merged_with_annotation_use, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=relativeUse, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 15 annotations over time") + labs(color="Annotation")
plot(annotation_plot2)
top15_merge_revisions = merge(top15_annotations_time, annotation_use, by=c("annotation"), suffixes=c("Annotations", "Revision"))
top15_merge_revisions$relativeUse = with(top15_merge_revisions, countAnnotations / countRevision * 100)
annotation_plot3 = ggplot(top15_merge_revisions, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=relativeUse, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 15 annotations over time") + labs(color="Annotation")
plot(annotation_plot3)
top15_merge_revisions = merge(top15_annotations_time, annotation_use, by=c("annotation"), suffixes=c("Annotations", "Revision"))
top15_merge_revisions$relativeUse = with(top15_merge_revisions, countAnnotations / countRevision * 100)
annotation_plot3 = ggplot(top15_merge_revisions, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=relativeUse, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 15 annotations over time") + labs(color="Annotation")
plot(annotation_plot3)
max_values = aggregate(list(max_count=top15_annotations_time$count), by=list(annotation=top15_annotations_time$annotation), max)
top15_merged = merge(top15_annotations_time, max_values, by=c("annotation"))
top15_merged$relativeUse = with(top15_merged, count / max_count * 100)
annotation_plot4 = ggplot(top15_merged, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=relativeUse, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 15 annotations over time") + labs(color="Annotation")
plot(annotation_plot4)
# Plot only deprecated
deprecated = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations WHERE a.annotation = 'deprecated'")
# Plot only deprecated
deprecated = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = 'deprecated'")
View(filtered_annotations)
# Plot only deprecated
deprecated = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = 'Deprecated'")
View(deprecated)
# Plot only deprecated
deprecated = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = 'Deprecated'")
dep_plot = ggpolot(deprecated, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation)) + geom_line() + geom_point()
# Plot only deprecated
deprecated = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = 'Deprecated'")
dep_plot = ggplot(deprecated, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation)) + geom_line() + geom_point()
plot(dep_plot)
View(top15)
max_dep = max(deprecated$count)
dep_plot = ggplot(deprecated, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count / max_dep * 100, group=annotation)) + geom_line() + geom_point()
plot(dep_plot)
# Get Top 15 annotations by use
top15_by_use = aggregate(list(max_count=filtered_annotations$count), by=list(annotation=filtered_annotations$annotation), max)
View(top15_by_use)
# Get Top 15 annotations by use
top15_by_use = aggregate(list(max_count=filtered_annotations$count), by=list(annotation=filtered_annotations$annotation), max)
top15_by_use = tail(top15_by_use[order(top15_by_use$count),], 15)
View(top15_by_use)
top15_by_use = tail(top15_by_use[order(top15_by_use$max_count),], 15)
# Get Top 15 annotations by use
top15_by_use = aggregate(list(max_count=filtered_annotations$count), by=list(annotation=filtered_annotations$annotation), max)
top15_by_use = tail(top15_by_use[order(top15_by_use$max_count),], 15)
sum_annotation_use = sum(annotation_use$count)
par(mai=c(1,2,1,1))
bp = barplot(top15_by_use$max_count / sum_annotation_use * 100, main="Top 15 most used annotations", horiz=TRUE, names.arg=top15_by_use$annotation, las=1, xlim=c(0,20))
bp = barplot(top15_by_use$max_count / sum_annotation_use * 100, main="Top 15 most used annotations", horiz=TRUE, names.arg=top15_by_use$annotation, las=1, xlim=c(0,30))
bp = barplot(top15_by_use$max_count / sum_annotation_use * 100, main="Top 15 most used annotations", horiz=TRUE, names.arg=top15_by_use$annotation, las=1)
bp = barplot(top15_by_use$max_count / sum_annotation_use * 100, main="Top 15 most used annotations", horiz=TRUE, names.arg=top15_by_use$annotation, las=1)
# Get Top 15 annotations by use
top15_by_use_tmp = aggregate(list(max_count=filtered_annotations$count), by=list(annotation=filtered_annotations$annotation), max)
top15_by_use = tail(top15_by_use_tmp[order(top15_by_use_tmp$max_count),], 15)
p = sum(top15_by_use_tmp)
par(mai=c(1,2,1,1))
bp = barplot(top15_by_use$max_count / p * 100, main="Top 15 most used annotations", horiz=TRUE, names.arg=top15_by_use$annotation, las=1)
p = sum(top15_by_use_tmp)
p = sum(top15_by_use_tmp$max_count)
par(mai=c(1,2,1,1))
bp = barplot(top15_by_use$max_count / p * 100, main="Top 15 most used annotations", horiz=TRUE, names.arg=top15_by_use$annotation, las=1)
text((top15$count / p * 100), bp, paste(round((top15$count / p * 100), 2), "%"), pos=4, cex=0.8)
# Get Top 15 annotations by use
top15_by_use_tmp = aggregate(list(max_count=filtered_annotations$count), by=list(annotation=filtered_annotations$annotation), max)
top15_by_use = tail(top15_by_use_tmp[order(top15_by_use_tmp$max_count),], 15)
p = sum(top15_by_use_tmp$max_count)
par(mai=c(1,2,1,1))
bp = barplot(top15_by_use$max_count / p * 100, main="Top 15 most used annotations", horiz=TRUE, names.arg=top15_by_use$annotation, las=1)
text((top15_by_use$max_count / p * 100), bp, paste(round((top15_by_use$max_count / p * 100), 2), "%"), pos=4, cex=0.8)
bp = barplot(top15_by_use$max_count / p * 100, main="Top 15 most used annotations", horiz=TRUE, names.arg=top15_by_use$annotation, las=1, xlim=c(0,50))
bp = barplot(top15_by_use$max_count / p * 100, main="Top 15 most used annotations", horiz=TRUE, names.arg=top15_by_use$annotation, las=1, xlim=c(0,100))
text((top15_by_use$max_count / p * 100), bp, paste(round((top15_by_use$max_count / p * 100), 2), "%"), pos=4, cex=0.8)
bp = barplot(top15_by_use$max_count / p * 100, main="Top 15 most used annotations", horiz=TRUE, names.arg=top15_by_use$annotation, las=1, xlim=c(0,55))
text((top15_by_use$max_count / p * 100), bp, paste(round((top15_by_use$max_count / p * 100), 2), "%"), pos=4, cex=0.8)
bp = barplot(top15_by_use$max_count / p * 100, main="Top 15 most used annotations", horiz=TRUE, names.arg=top15_by_use$annotation, las=1, xlim=c(0,56))
text((top15_by_use$max_count / p * 100), bp, paste(round((top15_by_use$max_count / p * 100), 2), "%"), pos=4, cex=0.8)
View(annotations)
View(repository_creation)
# Searching for a reason, why the amount of revisions is going down after 2013
barplot(repository_creation$count, main = "Repository creation date",
xlab = "Year/Quarter", ylab = "Amount of repositories created", names.arg = paste(substr(repository_creation$year, 3, 4), repository_creation$quarter, sep="/"))
# Plot only deprecated
deprecated = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = 'Deprecated'")
max_dep = max(deprecated$count)
dep_plot = ggplot(deprecated, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count / max_dep * 100, group=annotation,colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 15 annotations over time") + labs(color="Annotation")
plot(dep_plot)
u
# Searching for a reason, why the amount of revisions is going down after 2013
barplot(repository_creation$count, main = "Repository creation date",
xlab = "Year/Quarter", ylab = "Amount of repositories created", names.arg = paste(substr(repository_creation$year, 3, 4), repository_creation$quarter, sep="/"))
barplot(repository_creation$count, main = "Revisions",
xlab = "Year/Quarter", ylab = "Amount of revisions", names.arg = paste(substr(revisions$year, 3, 4), revisions$quarter, sep="/"))
barplot(revisions$count, main = "Revisions",
xlab = "Year/Quarter", ylab = "Amount of revisions", names.arg = paste(substr(revisions$year, 3, 4), revisions$quarter, sep="/"))
# Load the packages
library(sqldf)
library(ggplot2)
annotations = read.csv("result-github-september-2015.csv")                      # read annotation file
annotation_use = read.csv("annotations_in_repos-github-september-2015.csv")     # read how many repositories contain a specific annotation
revisions = read.csv("revisions-github-september-2015.csv")                     # read revisions file
repository_creation = read.csv("repository-created-github-september-2015.csv")  # read repository creation dates
# Searching for a reason, why the amount of revisions is going down after 2013
barplot(repository_creation$count, main = "Repository creation date",
xlab = "Year/Quarter", ylab = "Amount of repositories created", names.arg = paste(substr(repository_creation$year, 3, 4), repository_creation$quarter, sep="/"))
barplot(revisions$count, main = "Revisions",
xlab = "Year/Quarter", ylab = "Amount of revisions", names.arg = paste(substr(revisions$year, 3, 4), revisions$quarter, sep="/"))
# My suggested timeframe is 2005/1?
# Also remove all data where annotation count is smaller than 500 ???
filtered_annotations = subset(annotations, year > 2007)
# Remove all annotations which are used in less than ? repositories
annotation_use = subset(annotation_use, count > 1)
filtered_annotations = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a INNER JOIN annotation_use as au ON a.annotation = au.annotation")
# Get Top 10 annotations by use
top10_by_use_tmp = aggregate(list(max_count=filtered_annotations$count), by=list(annotation=filtered_annotations$annotation), max)
top10_by_use = tail(top10_by_use_tmp[order(top10_by_use_tmp$max_count),], 10)
p = sum(top10_by_use_tmp$max_count)
par(mai=c(1,2,1,1))
bp = barplot(top10_by_use$max_count / p * 100, main="Top 10 most used annotations", horiz=TRUE, names.arg=top10_by_use$annotation, las=1, xlim=c(0,56))
text((top10_by_use$max_count / p * 100), bp, paste(round((top10_by_use$max_count / p * 100), 2), "%"), pos=4, cex=0.8)
# Get Top 10 annotations by projects
top10 = tail(annotation_use[order(annotation_use$count),], 10)
sum_annotation_use = sum(annotation_use$count)
par(mai=c(1,2,1,1))
bp = barplot(top10$count / sum_annotation_use * 100, main="Top 10 most annotations in projects", horiz=TRUE, names.arg=top10$annotation, las=1, xlim=c(0,20))
text((top10$count / sum_annotation_use * 100), bp, paste(round((top10$count / sum_annotation_use * 100), 2), "%"), pos=4, cex=0.8)
# Look at Top 10 annotations over time
top10_annotations_time = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a INNER JOIN top10 as t ON a.annotation = t.annotation")
annotation_plot = ggplot(top10_annotations_time, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 10 annotations over time") + labs(color="Annotation")
plot(annotation_plot)
annotation_plot = ggplot(top10_annotations_time, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 10 annotations over time") + labs(color="Annotation")
plot(annotation_plot)
top10_merge_revisions = merge(top10_annotations_time, annotation_use, by=c("annotation"), suffixes=c("Annotations", "Revision"))
top10_merge_revisions$relativeUse = with(top10_merge_revisions, countAnnotations / countRevision * 100)
annotation_plot3 = ggplot(top10_merge_revisions, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=relativeUse, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 10 annotations over time") + labs(color="Annotation")
plot(annotation_plot3)
top10_merge_revisions = merge(top10_annotations_time, annotation_use, by=c("annotation"), suffixes=c("Annotations", "Revision"))
top10_merge_revisions$relativeUse = with(top10_merge_revisions, countAnnotations / countRevision * 100)
annotation_plot3 = ggplot(top10_merge_revisions, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=relativeUse, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 10 annotations over time relative to the amount of revisions") + labs(color="Annotation")
plot(annotation_plot3)
# Plot only deprecated
deprecated = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a WHERE a.annotation = 'Deprecated'")
max_dep = max(deprecated$count)
dep_plot = ggplot(deprecated, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count / max_dep * 100, group=annotation,colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 10 annotations over time") + labs(color="Annotation")
plot(dep_plot)
annotations2 = read.csv("result-github-september-2015-modified.csv")                      # read annotation file
annotations2 = read.csv("result-github-september-2015-modified.csv")                      # read annotation file
annotations2 = read.csv("result-github-september-2015-modified.csv")                      # read annotation file
# Remove all annotations before 2007
filtered_annotations2 = subset(annotations2, year > 2007)
# Remove all annotations which are used in less than 2 repositories
filtered_annotations2 = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations2 as a INNER JOIN annotation_use as au ON a.annotation = au.annotation")
View(filtered_annotations2)
annotations2 = read.csv("result-github-september-2015-modified.csv")                      # read annotation file
# Remove all annotations before 2007
filtered_annotations2 = subset(annotations2, year > 2007)
# Remove all annotations which are used in less than 2 repositories
filtered_annotations2 = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations2 as a INNER JOIN annotation_use as au ON a.annotation = au.annotation")
# Look at Top 10 annotations over time
top10_annotations_time2 = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations as a INNER JOIN top10 as t ON a.annotation = t.annotation")
annotation_plot5 = ggplot(top10_annotations_time2, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 10 annotations over time") + labs(color="Annotation")
plot(annotation_plot5)
annotations2 = read.csv("result-github-september-2015-modified.csv")                      # read annotation file
# Remove all annotations before 2007
filtered_annotations2 = subset(annotations2, year > 2007)
# Remove all annotations which are used in less than 2 repositories
filtered_annotations2 = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations2 as a INNER JOIN annotation_use as au ON a.annotation = au.annotation")
# Look at Top 10 annotations over time
top10_annotations_time2 = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations2 as a INNER JOIN top10 as t ON a.annotation = t.annotation")
annotation_plot5 = ggplot(top10_annotations_time2, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 10 annotations over time") + labs(color="Annotation")
plot(annotation_plot5)
View(top10_annotations_time2)
top10_merge_revisions2 = merge(top10_annotations_time2, annotation_use, by=c("annotation"), suffixes=c("Annotations", "Revision"))
top10_merge_revisions2$relativeUse = with(top10_merge_revisions2, countAnnotations / countRevision * 100)
annotation_plot6 = ggplot(top10_merge_revisions2, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=relativeUse, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("% Annotation") + ggtitle("Top 10 annotations over time relative to the amount of revisions") + labs(color="Annotation")
plot(annotation_plot6)
# Look at Top 10 annotations over time
top10_annotations_time2 = sqldf("SELECT a.annotation, a.year, a.quarter, a.count FROM filtered_annotations2 as a INNER JOIN top10 as t ON a.annotation = t.annotation")
annotation_plot5 = ggplot(top10_annotations_time2, aes(x=paste(substr(year, 3,4), quarter, sep="/"), y=count, group=annotation, colour=annotation)) + geom_line() + geom_point() + xlab("Year/Quarter") + ylab("# Annotation") + ggtitle("Top 10 annotations over time") + labs(color="Annotation")
plot(annotation_plot5)
